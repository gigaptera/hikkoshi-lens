# HikkoshiLens デザインシステム仕様書 v3.0

## コンセプト: Friendly & Icon-Driven (新卒向け優しい UI)

**"迷わない、怖くない、分かりやすい。"**

新卒向け引越し支援ツールとして、アイコン中心で視覚的に分かりやすく、適度な余白と丸みで「迫ってこない・触りやすい」体験を提供します。  
データ表示は「計器」ではなく「ガイド」として、明るく前向きなトーンで統一しています。

---

## 1. デザイン原則

1.  **Icon-First (アイコン前置)**

    - 主要なセクション（検索条件/スコア/家賃/駅情報）は**アイコンを先頭に配置**し、視覚的なランドマークとして機能させる。
    - 新卒ユーザーが「何のセクションか」を瞬時に理解できるよう、Phosphor Icons（`@phosphor-icons/react`）を積極的に活用。

2.  **Step-by-Step Guidance (段階的誘導)**

    - トップページに「進捗ステッパー」を表示し、次にやるべきことを明確化。
    - 検索 → 条件設定 → 結果の 3 ステップを常に可視化し、迷わせない。

3.  **Warm & Rounded (優しい丸み)**

    - 角丸（`rounded-lg`, `rounded-xl`, `rounded-full`）を多用し、硬質すぎない印象に。
    - Panel/Button/Input/Badge すべてに丸み（`--radius-md: 0.75rem`）を適用。

4.  **Color Hierarchy (色の階層)**
    - **Primary（Teal）**: アクション/重要指標/アクティブ状態
    - **Success（Green）**: 完了/OK/ポジティブ
    - **Info（Blue）**: ヒント/補足情報
    - **Warning（Yellow）**: 注意/確認
    - **Danger（Red）**: エラー/ハザード
    - **Neutral（Gray）**: 背景/テキスト/非アクティブ

---

## 2. カラーシステム (OKLCH Base)

最新の `oklch` 色空間を使用し、人間の知覚に均一な色を定義（Tailwind v4 準拠）。

### Base (Wall & Foreground)

- `--color-background`: `var(--color-neutral-200)` - 明るいグレー背景（壁）
- `--color-foreground`: `var(--color-neutral-900)` - テキスト黒

### Surface (Panel)

- `--color-card`: `var(--color-neutral-100)` - パネル表面（白に近い）
- `--color-border`: `var(--color-neutral-400)` - 構造線

### Accent (Primary = Scientific Teal)

- `--color-primary`: `oklch(0.65 0.16 190)` (Teal 500, Approx `#00B5AD`)
  - 用途: 主要ボタン、アクティブ状態、スライダー、ポジティブな指標、アイコン背景
  - コンセプト: Laboratory / Data / Calm
  - スケール: `--color-primary-50` 〜 `--color-primary-900`（Teal の 50〜900 にマップ）

### Semantic Colors

- **Success**: 緑系（`bg-green-100 text-green-700`）- 完了/OK/ポジティブ
- **Info**: 青系（`bg-blue-100 text-blue-700`）- ヒント/補足
- **Warning**: 黄系（`bg-yellow-100 text-yellow-700`）- 注意
- **Danger/Destructive**: 赤系（`bg-red-100 text-red-700`）- エラー/ハザード

---

## 3. コア・コンポーネント (Components)

### Panel (`components/ui/panel.tsx`)

「カード」として主要なコンテナに使用。**丸み（`rounded-xl`）+ 柔らかいシャドウ + アイコン前置セクション**が標準。

#### Variants（バリアント）

- **`solid`** (デフォルト)

  - 用途: 一般的なコンテンツコンテナ、フォーム、情報パネル
  - 特徴: 不透明な白背景、柔らかい影（`shadow-md`）、丸み（`rounded-xl`）
  - 推奨: メインコンテンツ、検索フォーム、詳細情報

- **`glass`**

  - 用途: 重要な情報、浮遊する情報、HUD、地図オーバーレイ
  - 特徴: 半透明（`bg-white/90`）、backdrop-blur、柔らかい影
  - 推奨: モーダル、地図上の情報カード、進捗表示

- **`steel`**
  - 用途: データ表示、計器類、スコアパネル
  - 特徴: 薄いグレー背景（`bg-neutral-50`）、シャープなボーダー
  - 推奨: スコア調整、比較テーブル、統計情報

#### Props（プロパティ）

```tsx
interface PanelProps {
  variant?: "glass" | "steel" | "solid";
  title?: string; // パネルタイトル
  subtitle?: string; // 説明文
  accent?: boolean; // 左端にteal色のアクセントバー
  noPadding?: boolean; // パディングを完全に無効化
  compactPadding?: boolean; // 密度の高いレイアウト用（p-4）
  showHardware?: boolean; // 四隅の取付穴装飾（非推奨、使用しない）
  divider?: boolean; // タイトル下の区切り線
}
```

#### 使用例

```tsx
{
  /* アイコン付きセクション見出し（推奨） */
}
<Panel variant="solid">
  <div className="flex items-center gap-3 mb-6">
    <div className="w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center">
      <Buildings weight="bold" size={20} className="text-primary" />
    </div>
    <div>
      <div className="text-xs font-bold text-neutral-500 uppercase tracking-wider">
        検索条件
      </div>
      <div className="text-lg font-black text-neutral-900">
        物件条件と予算を設定
      </div>
    </div>
  </div>
  <FormContent />
</Panel>;

{
  /* 地図オーバーレイ */
}
<Panel variant="glass" noPadding className="overflow-hidden">
  <MapComponent />
</Panel>;
```

### Button (`components/ui/button.tsx`)

アイコン前置を前提とした、丸みのあるボタン。**Primary（Teal）がデフォルト**。

#### Variants

- **Default (Primary Teal)**: `bg-primary text-primary-foreground hover:bg-primary/90`
  - 丸み: `rounded-lg`
  - 影: `shadow-md hover:shadow-lg`
  - 用途: 主要な CTA、検索開始、次へ進む
- **Outline**: `border-2 border-border hover:border-primary`
  - 用途: セカンダリアクション、キャンセル、詳細を見る
- **Ghost**: `hover:bg-neutral-100`
  - 用途: 戻る、補助的なアクション
- **Destructive**: `bg-red-600 text-white hover:bg-red-700`
  - 用途: 削除、リセット

#### Sizes

- `sm`: `h-9 px-3`
- `default`: `h-10 px-4`
- `lg`: `h-12 px-6` (CTA に推奨)

#### 使用例

```tsx
<Button size="lg" className="w-full">
  <MagnifyingGlass className="mr-2" weight="bold" size={20} />
  今すぐ無料で始める
</Button>

<Button variant="outline" size="lg">
  使い方を見る
  <ArrowRight className="ml-2" weight="bold" size={18} />
</Button>
```

### Input (`components/ui/input.tsx`)

丸み（`rounded-lg`）+ 明確なフォーカス状態（`focus:border-primary focus:ring-2`）。

- **Recessed**ではなく、明るい白背景（`bg-white`）+ ボーダー（`border-2 border-border`）で「書き込みやすい」印象に。
- フォーカス時に Primary（Teal）の枠が入る。

```tsx
<Input
  placeholder="例: 大手町, 渋谷, 東京駅..."
  className="text-xl font-bold h-14"
/>
```

### Badge (`components/ui/badge.tsx`)

丸み（`rounded-full`）+ 太字（`font-bold`）で、ステッパー/ラベル/タグに多用。

#### Variants

- `default`: `bg-primary text-primary-foreground` (Teal)
- `success`: `bg-green-100 text-green-700`
- `info`: `bg-blue-100 text-blue-700`
- `warning`: `bg-yellow-100 text-yellow-700`
- `destructive`: `bg-red-100 text-red-700`
- `outline`: `border border-border bg-card`

```tsx
<Badge variant="success" className="flex items-center gap-1.5">
  <CheckCircle weight="fill" size={14} />
  STEP 1 完了
</Badge>
```

### Slider (`components/ui/slider.tsx`)

丸み（`rounded-full`）+ Teal（Primary）のレンジ/つまみ。スコア重み調整に使用。

---

## 4. タイポグラフィ

**Font**: `Inter` (英数), `Noto Sans JP` (日本語)  
**Tracking**: 大見出しは `tracking-tight`, 小見出しは `tracking-wider`

### 階層

- **大見出し（h1）**: `text-3xl md:text-4xl font-black tracking-tight text-neutral-900`
- **中見出し（h2）**: `text-2xl md:text-3xl font-black tracking-tight text-neutral-900`
- **小見出し（h3）**: `text-lg font-black text-neutral-900`
- **ラベル（セクション）**: `text-xs font-bold text-neutral-500 uppercase tracking-wider`
- **本文**: `text-base text-neutral-600 font-normal`
- **数値データ（スコア/家賃）**: `font-mono font-black` + `tabular-nums`

---

## 5. レイアウトシステム

### AppShell (`components/layout/app-shell.tsx`)

全画面共通のレイアウト。**デスクトップ左サイドバー + モバイルシート + ヘッダー + 進捗表示**。

- **サイドバー（Desktop）**: 幅 `320px`、固定、スクロール独立
- **メインエリア**: 可変幅、`min-w-0`でオーバーフロー防止
- **モバイル**: 左上ハンバーガーメニュー、Sheet で全幅サイドバー

### ページ内レイアウト

- **max-w-7xl**: 最大幅 1400px（7xl）で中央揃え
- **Grid**: `lg:grid-cols-12` で 12 列グリッド
  - 左メイン: `lg:col-span-8` or `lg:col-span-9`
  - 右サイドバー: `lg:col-span-4` or `lg:col-span-3`
- **Sticky Sidebar**: `lg:sticky lg:top-6` でスクロール時に固定

---

## 6. アイコン使用指針

### Phosphor Icons を優先使用

- **サイズ**: 小（14px）、中（20px）、大（24px）、特大（32px）
- **Weight**: `light` (非アクティブ), `bold` (アクティブ), `fill` (強調)

### 主要アイコン

- `MagnifyingGlass`: 検索
- `MapPinLine`: 勤務地/位置
- `House`: 物件/ホーム
- `Buildings`: 建物種別/オフィス
- `Train`: 路線/駅
- `CurrencyJpy`: 家賃/予算
- `ChartBar`: スコア/統計
- `CheckCircle`: 完了/OK
- `Sparkle`: 新機能/ハイライト
- `ArrowRight`: 次へ/詳細
- `ArrowLeft`: 戻る

### アイコン背景

セクション見出しには**アイコン + 背景**を組み合わせる：

```tsx
<div className="w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center">
  <Buildings weight="bold" size={20} className="text-primary" />
</div>
```

---

## 7. ステッパー（進捗表示）

新卒向けツールとして、常に「いまどこ/次は何」を明示。

```tsx
<div className="flex items-center gap-2 text-sm font-bold">
  <Badge variant="success" className="flex items-center gap-1.5">
    <CheckCircle weight="fill" size={14} />
    STEP 1 完了
  </Badge>
  <div className="text-neutral-400">/</div>
  <Badge variant="default" className="flex items-center gap-1.5">
    STEP 2 現在
  </Badge>
  <div className="text-neutral-400">/</div>
  <Badge variant="secondary" className="flex items-center gap-1.5">
    STEP 3 未完了
  </Badge>
</div>
```

---

## 8. ページヘッダーパターン

全ページで統一したヘッダー形式：

```tsx
<header className="mb-8">
  <Link
    href="/"
    className="inline-flex items-center gap-2 text-sm font-bold text-neutral-500 hover:text-primary transition-colors mb-4"
  >
    <ArrowLeft size={16} weight="bold" />
    ホームに戻る
  </Link>

  <div className="flex items-center gap-3 mb-4">
    <div className="w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center">
      <MagnifyingGlass size={24} weight="bold" className="text-primary" />
    </div>
    <div>
      <h1 className="text-3xl md:text-4xl font-black tracking-tight text-neutral-900">
        ページタイトル
      </h1>
      <p className="text-sm text-neutral-500 font-medium">説明文</p>
    </div>
  </div>

  {/* Stepper */}
</header>
```

---

## 9. トーンとボイス

### 文章ルール

- **「です・ます」調**で親しみやすく
- **「今すぐ」「無料で」「簡単に」**など、前向きなワードを使用
- エラーメッセージも「〜してください」と柔らかく
- 専門用語は最小限、必要なら（ ）で補足

### NG ワード

- ❌「失敗しました」→ ⭕「もう一度お試しください」
- ❌「入力が不正です」→ ⭕「住所を入力してください」
- ❌「ERROR」→ ⭕「ヒント: 〜」

---

## 10. アクセシビリティ

- **コントラスト比**: WCAG AA 準拠（4.5:1 以上）
- **フォーカス**: `focus-visible:ring-2 focus-visible:ring-primary` で明示
- **アイコンのみボタン**: `aria-label` 必須
- **タッチ領域**: 最小 44x44px

---

## 11. レスポンシブ

- **モバイルファースト**: 基本はモバイル、`md:` / `lg:` でデスクトップ拡張
- **ブレークポイント**:
  - `sm`: 640px
  - `md`: 768px
  - `lg`: 1024px
  - `xl`: 1280px
- **Grid**: モバイルは 1 列、デスクトップは 2〜3 列

---

## 12. 改訂履歴

- **v1.0**: Neo-Brutalism / Concrete（2024 年初期）
- **v2.0**: 丸み導入 + AppShell（2025 年 1 月）
- **v3.0**: アイコン中心 + 新卒向け優しい UI（2025 年 1 月）- 本バージョン

---

## 付録: 実装チェックリスト

### 全ページ共通

- [ ] AppShell でラップされている
- [ ] ページヘッダー（アイコン + タイトル + パンくず）が揃っている
- [ ] ステッパー（進捗）が表示されている（検索フロー内）
- [ ] 背景グラデーション（`bg-gradient-to-br from-neutral-50 to-primary-50/20`）が適用されている

### コンポーネント

- [ ] Button に丸み（`rounded-lg`）が適用されている
- [ ] Panel に丸み（`rounded-xl`）が適用されている
- [ ] Badge が `rounded-full` + `font-bold` になっている
- [ ] Input が `rounded-lg` + フォーカス時 `border-primary` になっている
- [ ] アイコンがセクション見出しの前に配置されている
- [ ] アイコン背景（`w-10 h-10 bg-primary/10 rounded-lg`）が使われている

### タイポグラフィ

- [ ] 見出しが `font-black tracking-tight` になっている
- [ ] ラベルが `text-xs font-bold uppercase tracking-wider` になっている
- [ ] 数値が `font-mono font-black tabular-nums` になっている

### カラー

- [ ] Primary（Teal）が主要アクション/アイコン/アクティブ状態に使われている
- [ ] Success（Green）が完了/OK に使われている
- [ ] Info（Blue）がヒント/補足に使われている
- [ ] Danger（Red）がエラー/ハザードに使われている

---

以上が **HikkoshiLens v3.0 デザインシステム** の仕様です。全画面・全コンポーネントがこのルールに準拠し、新卒ユーザーが「迷わない・怖くない・分かりやすい」体験を提供します。
